# 整合性チェック詳細ガイド

## チェック観点

### 1. 要件→設計の整合性

| チェック項目 | 内容 |
|-------------|------|
| 要件カバレッジ | すべてのREQ-XXXに対応する設計要素があるか |
| 過剰設計 | 要件にない機能が設計に含まれていないか |
| 用語の一貫性 | 同じ概念に異なる用語が使われていないか |

### 2. 設計→タスクの整合性

| チェック項目 | 内容 |
|-------------|------|
| 設計カバレッジ | すべての設計要素に対応するタスクがあるか |
| タスク過不足 | 設計にない実装がタスクに含まれていないか |
| 参照の正確性 | タスクが参照するコンポーネント/APIは定義されているか |

### 3. クロスリファレンス

| チェック項目 | 内容 |
|-------------|------|
| ID参照 | REQ-XXX、DEC-XXX等の参照が有効か |
| ファイル参照 | 参照先ファイルが存在するか |
| ステータス整合 | 依存タスクのステータスが矛盾していないか |

## 実行手順

```text
1. docs/requirements/ のすべてのREQ-XXX、US-XXXをリストアップ
2. docs/design/ の設計要素と要件の対応を確認
3. docs/tasks/ のタスクと設計の対応を確認
4. 矛盾・不整合をレポートにまとめる
5. ★ ユーザーに提示し承認を得る ★
6. 承認された修正を実行
```

## ユーザー承認フロー

```text
整合性チェックが完了しました。

【検出された問題】
- 要件カバレッジ不足: X件
- 過剰設計: X件
- 参照エラー: X件
- 用語不一致: X件

詳細レポートを確認し、以下の対応を選択してください：

A) すべての推奨アクションを実行
B) 問題ごとに個別に対応を選択
C) 今回は修正せずレポートのみ保存
```

## レポートテンプレート

`../assets/templates/consistency_report_template_ja.md` を参照。
