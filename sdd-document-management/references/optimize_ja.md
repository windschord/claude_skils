# ファイル最適化詳細ガイド

## 最適化基準

### ファイルサイズ

| 状態 | 基準 | アクション |
|-----|------|-----------|
| 正常 | 500行未満 | なし |
| 注意 | 500-1000行 | 分割を検討 |
| 要対応 | 1000行以上 | 分割を推奨 |

### セクション数

| 状態 | 基準 | アクション |
|-----|------|-----------|
| 正常 | 10セクション未満 | なし |
| 注意 | 10-20セクション | 分割を検討 |
| 要対応 | 20セクション以上 | 分割を推奨 |

### 重複コンテンツ

| 状態 | 基準 | アクション |
|-----|------|-----------|
| 軽微 | 類似度30%未満 | なし |
| 注意 | 類似度30-50% | 統合を検討 |
| 要対応 | 類似度50%以上 | 統合を推奨 |

## 分割パターン

**パターンA: 機能別分割** - 1つの大きなファイルを機能ごとに分割
**パターンB: フェーズ別分割** - 時系列やフェーズで分割

## 実行手順

```text
1. docs/配下のすべてのMarkdownファイルを走査
2. ファイルサイズ、セクション数を計測
3. 重複コンテンツを検出
4. 最適化提案レポートを作成
5. ★ ユーザーに提示し承認を得る ★
6. 承認された最適化を実行
```

## ユーザー承認フロー

```text
ファイル最適化分析が完了しました。

【検出された問題】
- 分割推奨: X件
- 重複コンテンツ: X件
- インデックス不整合: X件

対応を選択してください：

A) すべての最適化を実行
B) 分割のみ実行
C) インデックス再生成のみ実行
D) 個別に選択
E) 今回は実行せずレポートのみ保存
```

## レポートテンプレート

`assets/templates/optimize_report_template_ja.md` を参照。
