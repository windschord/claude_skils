# Task Executor スキル

docs/tasks.mdに記載されたタスクを自動的に実行するClaude Codeスキルです。

## 概要

Task Executorスキルは、プロジェクトのdocs/tasks.mdファイルからタスクを読み取り、サブエージェントを使用して自動的に実装を行います。並列実行可能なタスクは並列で処理し、各タスク完了後に適切なコミットを作成します。

## 主な機能

- docs/tasks.mdからのタスク自動読み取り
- サブエージェントを使用した自動実装
- 並列実行可能なタスクの並列処理
- タスクごとの自動コミット作成
- 重要な変更前の安全なコミット作成
- タスク完了時のtasks.md自動更新
- 絵文字を使用しないクリーンなメッセージ

## 使用方法

### 基本的な使い方

```
次のタスクを実行してください
```

または

```
tasks.mdのタスクを進めてください
```

### 複数タスクの実行

```
tasks.mdのすべてのTODOタスクを実行してください
```

## タスクの実行フロー

1. docs/tasks.mdを読み取り、TODO状態のタスクを特定
2. 依存関係を確認し、実行可能なタスクを決定
3. 並列実行可能なタスクをグループ化
4. サブエージェントを起動してタスクを実行
5. タスク完了後、コミットを作成
6. tasks.mdを更新して完了をマーク
7. 次のタスクへ進む

## tasks.mdの形式

このスキルは、sdd-docsスキルで作成されたtasks.mdファイルを想定しています：

```markdown
#### タスク1.1: ユーザー認証APIエンドポイントの実装

**説明**:
`src/api/auth.ts`に以下のエンドポイントを実装する：
- POST /api/auth/login - ユーザーログイン処理
- POST /api/auth/logout - ログアウト処理

**技術的文脈**:
- フレームワーク: Next.js 14
- 認証: JWT + bcrypt

**受入基準**:
- [ ] login/logoutエンドポイントが実装されている
- [ ] JWTトークンが正しく生成・検証される
- [ ] すべてのテストが通過する

**依存関係**: なし
**推定工数**: 30分（AIエージェント作業時間）
**ステータス**: `TODO`
```

## コミット管理

### タスクごとのコミット

各タスク完了後、以下の形式でコミットを作成します：

```
[Task 1.1] ユーザー認証APIエンドポイントの実装

POST /api/auth/login と POST /api/auth/logout エンドポイントを実装。
JWTトークンを使用した認証方式を採用し、bcryptでパスワードをハッシュ化。

関連: docs/tasks.md Task 1.1
```

### 重要な変更前のコミット

アーキテクチャの大幅な変更や大規模なリファクタリングの前には、安全なポイントとしてコミットを作成します：

```
[Task 2.3] 認証システムリファクタリング前の安全なポイント

大規模なリファクタリングを開始する前の安定した状態を保存。
```

## tasks.mdの更新

タスク完了後、以下のように更新されます：

```markdown
#### タスク1.1: ユーザー認証APIエンドポイントの実装

**説明**: [元の説明]
**受入基準**: [元の受入基準]
**ステータス**: `DONE`
**完了サマリー**: login/logoutエンドポイントをJWT認証で実装、すべてのテスト通過
```

## 並列実行

依存関係のないタスクは自動的に並列実行されます：

```
以下のタスクを並列実行します：

- Task 1.1: ユーザー認証APIエンドポイントの実装
- Task 1.2: データモデルの定義
- Task 1.3: 設定ファイルの作成

実行を開始してよろしいですか？
```

## 制約事項

以下の場合は自動実行を行わず、ユーザーに確認を求めます：

- タスクの説明が曖昧で、実装方法が複数考えられる場合
- 本番環境への直接的な変更など、リスクの高い操作
- 技術選択やアーキテクチャの決定が必要な場合

## 絵文字の使用禁止

このスキルでは、すべてのメッセージ、コミットメッセージ、ドキュメント更新において絵文字を使用しません。クリーンで読みやすいテキストコミュニケーションを維持します。

## ベストプラクティス

### tasks.mdの作成

tasks.mdは、sdd-docsスキルを使用して作成することを推奨します：

1. requirements.mdで要件を定義
2. design.mdで設計を文書化
3. tasks.mdでタスクに分解
4. task-executorスキルで実行

### タスクの粒度

各タスクは以下の粒度が推奨されます：
- サブエージェント1回の実行で完了できる範囲
- 20-90分程度の作業量
- 明確な受入基準を持つ

### 受入基準の具体化

受入基準は検証可能な形で記載してください：
```markdown
**受入基準**:
- [ ] 特定のファイルが存在する
- [ ] すべてのテストが通過する
- [ ] ESLintエラーがゼロ
```

## トラブルシューティング

### タスクが並列実行されない

**原因**: 依存関係が設定されている

**解決**: tasks.mdの依存関係フィールドを確認し、不要な依存関係を削除

### サブエージェントがタスクを完了できない

**原因**: タスクの説明が不十分

**解決**: tasks.mdのタスク説明を詳細化し、以下を含める：
- 実装すべきファイルパス
- 使用する技術やライブラリ
- 具体的な実装手順
- 技術的文脈

## ライセンス

このスキルはMITライセンスの下で公開されています。
