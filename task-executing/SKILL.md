---
name: task-executing
description: docs/tasks/に記載されたタスクを実行し、実装を行います。タスクごとにステータス更新とコミットを作成し、実装完了後は逆順レビュー（実装→タスク→設計→要件）で整合性を確認します。SDDワークフローの実装フェーズで使用してください。
version: "1.0.0"
---

# タスク実行スキル

docs/tasks/に記載されたタスクを実行し、SDDワークフローに沿った実装を行います。

## 概要

このスキルは、SDDワークフローの実装フェーズを担当します：

```text
requirements-defining → software-designing → task-planning → task-executing
   (requirements/)         (design/)           (tasks/)         (実装)
```

### 主な機能
- docs/tasks/からタスクを読み取り、実行順序を決定
- タスクごとのステータス更新（TODO → IN_PROGRESS → DONE）
- 統一されたコミットテンプレートによるGit管理
- 実装後の逆順レビュー（実装→タスク→設計→要件の整合性確認）
- 並列実行可能なタスクの並列処理

## このスキルを使用する場面

### 実装フェーズ
- docs/tasks/のタスクを実行する場合
- SDDに沿った実装を行う場合
- タスクの進捗を管理したい場合

### SDDワークフロー統合
- sdd-documentationスキルから呼び出される場合
- 実装後の整合性確認が必要な場合

## ワークフロー

```text
1. docs/tasks/index.md読み取り
   ↓
2. 実行可能なタスクを特定（TODO状態、依存関係解消済み）
   ↓
3. 個別タスクファイルを読み込み
   ↓
4. ステータスをIN_PROGRESSに更新・コミット
   ↓
5. サブエージェントで実装
   ↓
6. 受入基準の確認
   ↓
7. タスク完了前チェックリスト確認（該当カテゴリを提示）
   ↓
8. コミット作成（テンプレート使用）
   ↓
9. ステータスをDONEに更新・コミット
   ↓
10. 逆順レビュー
   ↓
11. 次のタスクへ（または完了）
```

## タスクステータス管理

### ステータス遷移

```text
TODO → IN_PROGRESS → DONE
         ↓
      BLOCKED（問題発生時）
```

### 更新タイミング

| タイミング | ステータス | アクション |
|-----------|-----------|-----------|
| タスク開始時 | `IN_PROGRESS` | タスクファイルとindex.mdを更新、コミット |
| タスク完了時 | `DONE` | 完了サマリー追加、更新、コミット |
| 問題発生時 | `BLOCKED` | ブロック理由を記載 |

## タスク完了前チェックリスト

タスクをDONEとしてマークする前に、タスク内容を分析して該当するカテゴリを特定し、以下のチェックリストで確認を行います。

### チェックリストの適用ルール

1. **タスク内容の分析**: タスクの説明・受入基準から該当カテゴリを特定
2. **チェックリストの提示**: 該当するすべてのカテゴリのチェックリストを提示
3. **確認の実施**: 各項目について確認したかをユーザーに問う
4. **未確認項目の警告**: 未確認項目がある場合は警告を表示し、完了を保留

### UI変更を含む場合

以下の条件に該当するタスク:
- フロントエンドコンポーネントの作成・修正
- CSSやスタイルの変更
- レイアウト関連の実装

```text
- [ ] 実際のブラウザで目視確認した
- [ ] 配置先コンテキスト（サイドバー/モーダル/フルページ）でレイアウトを確認した
- [ ] レスポンシブ対応が必要な場合、複数の画面幅で確認した
```

### 外部システム連携（Docker/Git等）を含む場合

以下の条件に該当するタスク:
- Docker/コンテナ関連の設定・実装
- Git操作の自動化
- 外部API/サービスとの連携
- ファイルシステム操作

```text
- [ ] モックではなく実際のシステムで動作確認した
- [ ] 権限・マウント設定の相互作用を確認した
- [ ] エラー時のログ出力・ハンドリングを確認した
```

### データ操作を含む場合

以下の条件に該当するタスク:
- データベース操作
- ファイル読み書き
- リスト・配列の処理
- ユーザー入力の処理

```text
- [ ] 空データ・null値での動作を確認した
- [ ] 境界値（0件、1件、大量データ）での動作を確認した
```

### コンポーネント再利用・移動を含む場合

以下の条件に該当するタスク:
- 既存コンポーネントの別画面での利用
- コンポーネントのリファクタリング
- 共通コンポーネント化

```text
- [ ] 元のコンテキストと新しいコンテキストの違いを確認した
- [ ] サイズ制約・親要素の影響を確認した
```

### リモートリポジトリが存在する場合

以下の条件に該当するタスク:
- リモートリポジトリへのプッシュを伴う実装
- プルリクエストの作成・更新
- CI/CDパイプラインの実行

```text
- [ ] テストカバレッジが80％以上である
- [ ] lintでエラーが一切ない
- [ ] PRチェックがすべてパスしている
- [ ] nitsなどの軽微なレビュー指摘も含めて解消されており、追加指摘が一切ない
- [ ] 選択したライブラリやツールを含めてセキュリティ上の指摘が一切ない
```

### チェックリスト確認の例

```text
【タスク完了前チェック】

Task 1.3: ユーザー一覧コンポーネントのサイドバー対応

該当カテゴリ:
- UI変更を含む
- コンポーネント再利用・移動を含む

チェックリスト:
[UI変更]
- [ ] 実際のブラウザで目視確認した
- [ ] 配置先コンテキスト（サイドバー）でレイアウトを確認した
- [ ] レスポンシブ対応が必要な場合、複数の画面幅で確認した

[コンポーネント再利用・移動]
- [ ] 元のコンテキスト（フルページ）と新しいコンテキスト（サイドバー）の違いを確認した
- [ ] サイズ制約・親要素の影響を確認した

上記の項目を確認しましたか？未確認の項目があれば、確認後に完了としてください。
```

## 逆順レビュー

### レビューの流れ

```text
実装 → docs/tasks/ → docs/design/ → docs/requirements/
```

### 主要チェック項目

1. **実装 → タスク**: 受入基準達成、ファイル一致、テスト通過
2. **タスク → 設計**: コンポーネント/API/データモデル対応
3. **設計 → 要件**: 要件カバレッジ、過剰実装チェック

詳細は `references/execution_guide_ja.md` を参照。

## ベストプラクティス

1. **タスク開始時に必ずステータス更新**: IN_PROGRESSに変更してからコミット
2. **コミットテンプレートを厳守**: 関連ドキュメントへの参照を必ず含める
3. **受入基準を全て確認**: 一部でも未達成なら完了としない
4. **逆順レビューを省略しない**: 整合性確認で問題を早期発見
5. **絵文字を使用しない**: コミットメッセージ、ドキュメント全てで禁止

## SDDワークフローとの統合

sdd-documentationスキルは、以下の順序でサブスキルを呼び出します：

```text
1. requirements-defining → docs/requirements/作成
2. software-designing → docs/design/作成
3. task-planning → docs/tasks/作成
4. task-executing → 実装＆逆順レビュー（このスキル）
```

### 完了条件

- すべてのタスクがDONEステータス
- 逆順レビューで不整合がない（または解消済み）
- すべてのコミットが作成済み

## リソース

### リファレンス
- コミットテンプレート: `references/commit_templates_ja.md`
- 実行ガイド: `references/execution_guide_ja.md`
