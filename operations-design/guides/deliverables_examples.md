# 成果物の例

このドキュメントは、運用設計スキルが生成する成果物の例を記載しています。

**対象読者**: ユーザー（人間）

**目的**: 期待される出力を明確にする

---

## 成果物の例

### 運用設計書の構成例

**ファイル名**: `2025-04-01-ShopAPI-operations-design.md`

**サイズ**: 約50ページ（マークダウン形式）

**セクション構成**:

```markdown
# ShopAPI 運用設計書

## 変更履歴
| 版数 | 日付 | 作成者 | 変更内容 |
|------|------|--------|----------|
| 1.0 | 2025-04-01 | AI運用設計コンサルタント | 初版作成 |

## 目次
1. 概要
2. サービス概要
3. 運用方針と目標（SLO/SLI/SLA）
4. 運用体制
5. 運用スケジュール
6. 定常運用作業
7. 監視・通知
8. インシデント管理
9. 変更管理
10. リリース管理
11. バックアップ・リカバリ
12. セキュリティ運用
13. キャパシティ管理
14. コスト管理とFinOps

---

## 1. 概要

### 1.1 目的
本運用設計書は、ShopAPI（ECサイトバックエンドAPI）のプロダクション環境における
運用方針、体制、プロセスを定義し、安定したサービス提供を実現することを目的とする。

### 1.2 対象範囲
- **システム名**: ShopAPI
- **対象業務**: ECサイトのバックエンドAPI（商品管理、注文処理、決済連携）
- **運用開始予定日**: 2025年4月1日
- **運用環境**: AWS EKS（Kubernetes）

### 1.3 前提条件
- システム開発が2025年3月末までに完了
- 本番環境（AWS EKS）が構築済み
- 運用チームが編成済み（3名）

### 1.4 制約条件
- 予算制約: 月間運用コスト50万円以内
- リソース制約: 運用チーム3名（Kubernetes経験は限定的）
- 技術制約: AWS EKSを使用（サーバレス化は次フェーズ）

---

## 3. 運用方針と目標（SLO/SLI/SLA）

### 3.1 運用基本方針
1. **可用性重視**: 決済機能を含むため、高い可用性を確保
2. **セキュリティ優先**: PCI DSS準拠を目指したセキュリティ運用
3. **継続的改善**: SREプラクティスに基づく継続的な改善活動

### 3.2 サービスレベル目標（SLO）

#### 3.2.1 可用性
- **目標値**: 99.9%（月間ダウンタイム43分以内）
- **測定方法**: 外形監視による正常応答率
- **測定期間**: 月次

#### 3.2.2 レスポンスタイム
- **P95**: 500ms以内
- **P99**: 1000ms以内
- **測定方法**: APMツール（Datadog）による計測
- **対象**: /api/v1/* エンドポイント（GETリクエスト）

#### 3.2.3 エラーレート
- **目標値**: 0.1%以下
- **測定方法**: HTTP 5xx エラー率
- **測定期間**: 月次

### 3.3 エラーバジェット
- **月間エラーバジェット**: 43分（可用性99.9%に対応）
- **消費率アラート**: 50%消費時にWarning、80%消費時にCritical

---

## 7. 監視・通知

### 7.1 監視方針
**ユーザー体験起点の監視**を基本とし、以下の優先順位で監視項目を設定：

1. **優先度1**: 外形監視（ユーザーから見たサービス稼働状況）
2. **優先度2**: アプリケーション監視（API レスポンスタイム、エラーレート）
3. **優先度3**: インフラ監視（CPU、メモリ、ネットワーク）

### 7.2 監視項目一覧

| No | 監視項目 | 閾値（Warning） | 閾値（Critical） | 監視ツール |
|----|---------|----------------|-----------------|-----------|
| 1 | サービス稼働状況 | - | ダウン検知 | Datadog Synthetics |
| 2 | APIレスポンスタイム（P95） | 400ms | 500ms | Datadog APM |
| 3 | APIエラーレート | 0.08% | 0.1% | Datadog APM |
| 4 | Pod CPU使用率 | 70% | 85% | Datadog |
| 5 | Pod メモリ使用率 | 75% | 90% | Datadog |
...
```

### 会話ログの例

**ファイル名**: `conversation-log-2025-04-01.md`

**サイズ**: 約20ページ

```markdown
# 運用設計セッション 会話ログ

## セッション情報
- 開始日時: 2025-04-01 10:00
- 終了日時: 2025-04-01 13:30
- 所要時間: 3.5時間
- プロジェクト: ShopAPI運用設計

---

## [10:05] 業界トレンド調査

**調査対象業界**: EC（電子商取引）

**調査結果**:
1. マイクロサービスアーキテクチャの採用率が60%超
2. カナリアデプロイメントによるリスク低減が標準化
3. SLO駆動のサービス品質管理が主流

**本サービスへの適用候補**:
- カナリアデプロイメント戦略の採用
- SLOベースのエラーバジェット管理
- GitOpsによる宣言的な運用

---

## [10:15] セクション1「概要」のヒアリング

**質問内容**:
Q1: 運用設計書の目的は何ですか？
A1: 新規サービス（ShopAPI）の運用開始のため

Q2: 対象範囲を教えてください
A2:
- システム名: ShopAPI
- 対象業務: ECサイトバックエンドAPI
- 運用開始予定: 2025年4月

Q3: 前提条件はありますか？
A3:
- システム開発は3月末完了予定
- AWS EKS環境は構築済み
- 運用チーム3名編成済み

Q4: 制約条件はありますか？
A4:
- 予算: 月間50万円以内
- 人員: 運用チーム3名（Kubernetes経験少ない）
- 技術: AWS EKS使用

**作成内容**:
セクション1「概要」を作成し、上記ヒアリング内容を反映

**承認状況**: 承認済み

**次のアクション**: セクション2「サービス概要」のヒアリング開始

---

## [10:30] セクション2「サービス概要」のヒアリング
...
```

### 完了チェックリスト

運用設計が完了したかを確認するチェックリスト：

**必須項目**:
- [ ] 業界トレンド調査を実施した
- [ ] すべての必須セクション（1-11）を作成した
- [ ] 各セクションでユーザーの承認を得た
- [ ] 一貫性チェックを実施し、矛盾を修正した
- [ ] SLO/SLI/SLAが明確に定義されている
- [ ] 運用体制とRACIマトリクスが定義されている
- [ ] 監視項目とアラート閾値が定義されている
- [ ] インシデント対応フローが定義されている
- [ ] 会話ログが記録されている
- [ ] 最終版をユーザーが承認した

**推奨項目**:
- [ ] セキュリティ運用（セクション12）を作成した
- [ ] キャパシティ管理（セクション13）を作成した
- [ ] コスト管理とFinOps（セクション14）を作成した
- [ ] 運用設計書のMarkdown文法チェックを実施した

**オプション項目**:
- [ ] Chaos Engineering（セクション15）を作成した
- [ ] 問題管理（セクション16）を作成した
- [ ] ナレッジ管理（セクション17）を作成した
- [ ] 継続的改善（セクション18）を作成した
