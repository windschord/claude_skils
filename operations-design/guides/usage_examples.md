# 使用例

このドキュメントは、運用設計スキルの具体的な使用例を記載しています。

**対象読者**: ユーザー（人間）、Claude Code（AI）

**目的**: 実際の会話フローを示すことで、スキルの使い方を理解する

---

## 使用例

### 例1: クラウドネイティブWebサービスの運用設計

**シナリオ**: ECサイトのバックエンドAPIをAWS EKSで運用する場合

**会話フロー**:

```
ユーザー: ECサイトのバックエンドAPIの運用設計書を作成したい

AI: 運用設計のご依頼ありがとうございます。
    まず、EC業界の最新運用トレンドを調査します。

    [WebSearchツールで業界調査を実施]

    【調査完了】EC業界の最新トレンド:
    1. マイクロサービスアーキテクチャの採用
    2. カナリアデプロイメントによるリスク低減
    3. SLO駆動のサービス品質管理

    次に、運用設計書の全体構造をご説明します。

    【運用設計書の構成】
    ✅ 必須セクション: 1-11（概要、SLO、監視、インシデント管理等）
    ⭐ 推奨セクション: 12（セキュリティ運用）
    📚 オプション: 13-19（FinOps、Chaos Engineering等）

    貴社のEC APIは決済を含むため、セクション1-12を作成することを推奨します。

    それでは、セクション1「概要」から始めます。

    Q1: サービス名を教えてください
    Q2: 運用開始予定日はいつですか？
    Q3: 前提条件や制約条件はありますか？

ユーザー: サービス名は「ShopAPI」、運用開始は2025年4月、
         Kubernetesの運用経験が少ないという制約があります

AI: ありがとうございます。

    【セクション1「概要」を作成しました】

    ## 1. 概要

    ### 1.1 目的
    本運用設計書は、ShopAPI（ECサイトバックエンドAPI）の運用を...

    ### 1.2 対象範囲
    - システム名: ShopAPI
    - 運用開始予定: 2025年4月

    ### 1.3 制約条件
    - Kubernetesの運用経験が限定的
    - 運用チームのスキル向上が必要

    内容を確認していただけますか？

ユーザー: 承認します

AI: ありがとうございます。
    次に、セクション2「サービス概要」に進みます。

    Q1: APIが提供する主要機能を教えてください
    Q2: 想定トラフィックはどれくらいですか？
    ...
```

**成果物**:
- 運用設計書（19セクション、約50ページ）
- 会話ログ（ヒアリング内容の記録）

**所要時間**: 約3時間

### 例2: オンプレミスシステムのクラウド移行

**シナリオ**: 既存のオンプレミス業務システムをAWSに移行

**会話フロー**:

```
ユーザー: オンプレミスの業務システムをAWSに移行したい。
         移行後の運用設計書を作成してほしい

AI: クラウド移行に伴う運用設計ですね。

    まず、システムのインフラパターンを確認させてください。

    Q: 移行後のアーキテクチャは？
    A) コンテナ化してECS/EKSで運用
    B) EC2インスタンスでLAMP構成を維持
    C) サーバレス（Lambda等）に刷新

ユーザー: B。既存のLAMP構成をできるだけ維持したい

AI: 承知しました。クラウドインスタンス/IaaS向けのテンプレートを使用します。

    [業界調査実施]

    クラウド移行における最新トレンド:
    1. リフト&シフト戦略による段階的移行
    2. AWS Systems Managerによる運用自動化
    3. CloudWatch+X-Rayによる監視強化

    これらを考慮した運用設計を行います。

    次に、既存の運用状況を確認させてください。

    Q1: 現在の運用体制は？（人数、シフト等）
    Q2: 現在の可用性実績は？
    Q3: 移行後の可用性目標は？
    ...
```

**成果物**:
- クラウド移行後の運用設計書
- オンプレミスとクラウドの運用比較表
- 移行計画への推奨事項

**所要時間**: 約4時間

### 例3: 既存運用設計の改善

**シナリオ**: インシデント多発により運用設計を見直したい

```
ユーザー: 現在の運用設計を見直したい。
         インシデントが多発していて困っている

AI: 運用改善のご相談ですね。

    まず、現状を把握させてください。

    Q1: 既存の運用設計書はありますか？
    Q2: どのようなインシデントが多発していますか？
    Q3: 現在のSLO/SLA目標は？
    Q4: 実際の達成率は？

ユーザー: 運用設計書はあります（共有します）
         パフォーマンス劣化のインシデントが週2-3回
         SLOは可用性99.9%だが、実績は99.5%程度

AI: ありがとうございます。既存の運用設計書を分析します。

    [Readツールで既存設計書を読み込み]

    【分析結果】以下の問題を検出しました:

    1. ❌ 監視項目が不足
       - アプリケーションメトリクスの監視がない
       - レスポンスタイム監視がP99のみ（P95/P50が未測定）

    2. ❌ アラート閾値が不適切
       - CPU使用率90%でWarning → 80%に変更すべき

    3. ❌ キャパシティ管理が未定義
       - オートスケーリング設定が手動

    これらを改善した新しい運用設計書を作成しますか？
    それとも、既存設計書の該当箇所のみ修正しますか？

ユーザー: 該当箇所のみ修正してほしい

AI: 承知しました。以下の修正を行います:

    【修正1】セクション7「監視・通知」
    - アプリケーションメトリクスを追加
    - レスポンスタイム監視をP50/P95/P99に拡充

    【修正2】セクション8「インシデント管理」
    - アラート閾値の見直し

    【修正3】セクション13「キャパシティ管理」（新規追加）
    - オートスケーリング設定の自動化

    これらの修正を実施してよろしいですか？
```

**成果物**:
- 改善された運用設計書
- 変更点のサマリー
- 改善効果の予測

**所要時間**: 約2時間

