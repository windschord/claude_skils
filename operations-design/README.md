# 運用設計コンサルタントスキル

運用設計の専門コンサルタントとして、対象業界の最新トレンドを調査し、ITIL 4・SRE・DevOpsのベストプラクティスに基づいた実践的な運用設計書を作成するスキルです。

## 概要

このスキルは以下の機能を提供します：

- 対象業界の最新トレンドと技術動向の調査
- サービス仕様の体系的なヒアリング
- ITIL 4・SRE・DevOpsに基づいた運用設計
- 包括的な運用設計書の作成
- 設計内容の一貫性チェックと客観的レビュー
- 推論を避けた事実ベースの設計

## 主な特徴

### 1. AskUserQuestionツールによる確実な質問

**すべての質問はAskUserQuestionツールを使用して実施します：**

- 質問が必要な場合は必ずAskUserQuestionツールを使用
- 不明な点は積極的に質問
- 質問する時は常にAskUserQuestionツールを使って回答させる
- 選択肢にはそれぞれ、推奨度と理由を提示
  - 推奨度は⭐の5段階評価（⭐⭐⭐⭐⭐：最も推奨、⭐：推奨しない）

### 2. 会話ログによるコンテキスト保持

**すべての会話内容をファイルに記録し、コンテキストを失わないようにします：**

- セッション開始時に会話ログファイルを自動作成
- ヒアリング内容、調査結果、決定事項をすべて記録
- 長期間のセッションでも情報を失わない
- 過去の議論をいつでも参照可能
- 設計の根拠と経緯を明確に追跡

### 3. 業界調査の必須化

運用設計を開始する前に、必ず対象業界の最新トレンドを調査します：

- 最新の業界動向
- 主要な技術トレンド
- セキュリティ・コンプライアンス要件
- 業界標準のSLO/SLA水準

### 4. 推論の禁止

推測や推論を避け、事実に基づいた設計を行います：

- 不明な点は必ずユーザーに質問
- 業界トレンドはWeb検索で調査
- 提供された情報のみを使用
- 「おそらく」「たぶん」などの曖昧な判断を排除

### 5. 体系的なヒアリング

サービス仕様を段階的かつ体系的に収集します：

- 既存ドキュメントの確認
- サービス基本情報の収集
- システム構成の把握
- 運用要件の明確化

### 6. 一貫性の客観的レビュー

設計書作成後、内容の一貫性を客観的にレビューします：

- SLO/SLI/SLAの整合性チェック
- 運用体制と作業内容の整合性確認
- 監視とインシデント対応の整合性確認
- 変更管理とリリース管理の整合性確認

## ディレクトリ構造

```
operations-design/
├── SKILL.md                              # スキル定義ファイル
├── README.md                             # このファイル
├── assets/
│   └── templates/
│       ├── operations_design_template_ja.md  # 汎用運用設計書テンプレート
│       ├── operations_design_template_cloud_native_ja.md  # クラウドネイティブ対応
│       ├── operations_design_template_cloud_instance_ja.md  # クラウドインスタンス対応
│       ├── operations_design_template_onpremise_ja.md  # オンプレミス対応
│       └── conversation_log_template_ja.md   # 会話ログテンプレート
└── references/
    ├── operations_design_guide_ja.md     # 運用設計の詳細ガイド
    └── industry_research_guide_ja.md     # 業界調査のガイドライン
```

**テンプレートの選択**:

インフラパターンに応じて、最適なテンプレートが自動選択されます：

- **クラウドネイティブ**: サーバレス、Kubernetes環境向け（責任共有モデル考慮）
- **クラウドインスタンス**: EC2/GCE/Azure VM等のIaaS向け（LAMP等）
- **オンプレミス**: 自社データセンター向け（リソース保有とスケーリングリードタイム考慮）

## 使用方法

### スキルの有効化

Claude Codeで以下のように依頼してください：

```
運用設計書を作成したい
```

または

```
運用設計を支援してほしい
```

### 基本的なワークフロー

1. **会話ログの初期化**
   - セッション開始時に会話ログファイルを作成
   - すべてのヒアリング内容を記録開始

2. **インフラパターンの選択**
   - クラウドネイティブ/サーバレス/Kubernetes
   - クラウドインスタンス/IaaS
   - オンプレミス
   - 適切なテンプレートの自動選択

3. **業界トレンド調査**
   - 対象業界の最新動向をWeb検索で調査
   - ITIL 4、SRE、DevOpsのベストプラクティスを確認
   - 調査結果を会話ログに記録

4. **サービス仕様のヒアリング**
   - 既存ドキュメントの確認
   - サービス概要、技術構成、運用要件を収集
   - 各質問と回答を会話ログに記録

5. **運用設計書の作成**
   - 選択されたテンプレートに基づいて段階的に作成
   - 各セクション完成後にユーザー確認
   - 承認状況を会話ログに記録

6. **一貫性チェック**
   - 全セクション完成後に矛盾をチェック
   - 問題があれば修正提案
   - チェック結果を会話ログに記録

7. **最終承認と完成**
   - ユーザーの最終承認
   - 運用設計書の保存
   - 最終的な決定事項とサマリーを会話ログに記録

## 運用設計書のセクション

作成される運用設計書には以下のセクションが含まれます：

1. 概要（目的、対象範囲、前提条件、**インフラパターン特有の考慮事項**）
2. サービス概要
3. 運用方針と目標（SLO/SLI/**SLA**/エラーバジェット）
4. 運用体制
5. 運用スケジュール
6. 定常運用作業
7. 監視・通知
8. インシデント管理
9. 変更管理
10. リリース管理
12. バックアップ・リカバリ
13. セキュリティ運用
14. キャパシティ管理
15. コスト管理
16. 問題管理
17. ナレッジ管理
18. 継続的改善
19. 運用ツール
20. 付録

## リソース

### テンプレート

- `assets/templates/operations_design_template_ja.md`
  - 包括的な運用設計書テンプレート
  - 20セクション構成
  - ITIL 4、SRE、DevOpsの要素を統合

- `assets/templates/conversation_log_template_ja.md`
  - 会話ログテンプレート
  - セッション情報、会話記録、サマリーセクション
  - コンテキスト保持と決定事項追跡

### リファレンス

- `references/operations_design_guide_ja.md`
  - ITIL 4フレームワークの詳細
  - SREの原則とベストプラクティス
  - DevOpsの実践
  - SLO/SLI/SLAの設計ガイド
  - 運用プロセスの詳細
  - ツール選定のポイント
  - コスト最適化手法

- `references/industry_research_guide_ja.md`
  - 業界調査の目的と方法
  - 業界別の調査ポイント
  - 最新トレンドの把握方法
  - 調査結果の活用方法

## 適用可能な業界

このスキルは以下の業界に対応しています：

- Webサービス/SaaS
- EC/マーケットプレイス
- 金融サービス（銀行、証券、保険、フィンテック）
- メディア/コンテンツ配信
- ヘルスケア
- ゲーム
- IoT/組み込み
- エンタープライズ（社内システム）

## 主な採用フレームワーク

### ITIL 4

- サービスバリューシステム（SVS）
- 34のプラクティス
- 継続的改善
- アジャイル・DevOpsとの統合

### SRE（Site Reliability Engineering）

- SLO/SLI/エラーバジェット
- 4つのゴールデンシグナル
- トイル削減
- ポストモーテム文化

### DevOps

- CI/CDパイプライン
- Infrastructure as Code
- Four Keys（DORA metrics）
- 自動化とコラボレーション

## ベストプラクティス

### 1. 段階的な作成

- 一度にすべてを作成しない
- 各セクション完成後にユーザー確認
- 承認を得てから次のセクションへ

### 2. 具体性と測定可能性

- 抽象的な表現を避ける
- 測定可能な数値目標を設定
- 「高速に」ではなく「500ms以内に」

### 3. 一貫性の確保

- セクション間の矛盾をチェック
- SLOと運用プロセスの整合性
- 全体としての実現可能性

### 4. 継続的な更新

- 運用開始後も定期的に見直し
- 最新トレンドの取り込み
- 実態との乖離を防ぐ

## ライセンス

このスキルはMITライセンスの下で提供されています。

## 貢献

改善提案やバグ報告は、GitHubのIssueまたはPull Requestでお願いします。

## 関連スキル

- `sdd-documentation`: ソフトウェア設計ドキュメント作成スキル
- `incident-rca`: インシデント根本原因分析スキル
- `auto-executor`: タスク実行スキル
