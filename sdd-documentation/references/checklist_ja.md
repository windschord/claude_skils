# SDD検証チェックリスト

SDDドキュメントをレビューする際の詳細な確認項目です。

## 全体チェック

- [ ] docs/ディレクトリ構造が存在する
- [ ] requirements/index.md、design/index.md、tasks/index.mdが存在する
- [ ] 3ドキュメント間の整合性が取れている
- [ ] 逆順レビューが完了している

## 要件定義書（docs/sdd/requirements/）

- [ ] ユーザーストーリーが明確に定義されている
- [ ] すべての要件がEARS記法に従っている
- [ ] 要件IDが一意である（REQ-XXX、NFR-XXX）
- [ ] 各要件がテスト可能である
- [ ] 非機能要件が含まれている

## 設計書（docs/sdd/design/）

- [ ] アーキテクチャ概要が記載されている
- [ ] 主要コンポーネントが定義されている
- [ ] インターフェースが明確である
- [ ] 技術的決定事項と根拠が記載されている
- [ ] 必要に応じて図表が含まれている
- [ ] 情報の明確性チェックが完了している
- [ ] 不明/要確認の情報がすべて解消されている
- [ ] requirements/の全要件に対応する設計要素がある
- [ ] CI/CD設計が含まれている（品質ゲート、GitHub Actions）
- [ ] 品質基準が定義されている（カバレッジ80%、Linter、複雑性）

## タスク管理書（docs/sdd/tasks/）

- [ ] タスクが適切な粒度に分解されている（20-40分程度）
- [ ] 各タスクに受入基準がある
- [ ] 依存関係が明確である
- [ ] 推定工数が記載されている
- [ ] ステータスが有効な値である（TODO/IN_PROGRESS/BLOCKED/REVIEW/DONE）
- [ ] 各タスクの「情報の明確性」セクションが記載されている
- [ ] 推測に基づく実装指示が含まれていない
- [ ] TDD手順が含まれている
- [ ] すべてのタスクがdesign/のコンポーネント/APIに対応している
- [ ] すべての設計要素がrequirements/に対応している

## 逆順レビュー

### タスク → 設計の整合性

| チェック項目 | 確認内容 |
|-------------|---------|
| コンポーネント対応 | タスクが参照するコンポーネントはdesign/components/に定義されているか |
| API対応 | タスクで実装するAPIはdesign/api/と一致しているか |
| データモデル対応 | タスクで使用するデータ構造はdesign/database/と一致しているか |
| 技術スタック | タスクで使用する技術はdesign/decisions/と一致しているか |

### 設計 → 要件の整合性

| チェック項目 | 確認内容 |
|-------------|---------|
| 機能カバレッジ | すべての要件（REQ-XXX）に対応する設計要素があるか |
| 非機能要件対応 | NFR-XXXの要件が設計に反映されているか |
| 過剰設計チェック | requirements/にない機能が設計に含まれていないか |

## 不整合発見時の報告テンプレート

```text
ドキュメントの整合性チェックで以下の不整合を発見しました：

【タスク → 設計の不整合】
1. tasks/phase-2/TASK-003.mdで「PaymentService」を実装するとありますが、
   design/components/にPaymentServiceの定義がありません。

【設計 → 要件の不整合】
2. design/components/に「通知機能」がありますが、
   requirements/stories/に対応する要件がありません。

【過不足】
3. REQ-005（レポート出力機能）に対応するタスクがありません。

これらについて確認させてください：
1. PaymentServiceの設計を追加しますか？
2. 通知機能は必要ですか？
3. REQ-005のタスクを追加しますか？
```
