# タスク

> このドキュメントはAIエージェント（Claude Code等）が実装を行うことを前提としています。
> タスクは具体的なファイルパス、技術仕様、検証可能な受入基準を含めて記載してください。
> **不明な情報が1つでもある場合は、実装前に必ず確認を取ってください。**

## 情報の明確性チェック（全体）

### ユーザーから明示された情報
*プロジェクト全体で明確に指定された情報*
- [ ] 実装対象のディレクトリ構造: [明示されている場合は記載]
- [ ] 使用するパッケージマネージャー: [npm/yarn/pnpm等]
- [ ] テストフレームワーク: [Jest/Vitest/Mocha等]
- [ ] リンター/フォーマッター: [ESLint/Prettier等]
- [ ] コーディング規約: [明示されている場合は記載]
- [ ] ブランチ戦略: [Git Flow/GitHub Flow等]

### 不明/要確認の情報（全体）
*「おそらく〜だろう」という推測は「不明」として扱う*

| 項目 | 現状の理解 | 確認状況 |
|------|-----------|----------|
| [項目名] | [推測内容や不明点] | [ ] 未確認 / [x] 確認済み |

### 実装前に確認すべき質問
*上記の不明情報に基づき、実装開始前に必ず確認すべき質問*
1. [質問1]
2. [質問2]

> **重要**: 上記の質問すべてに回答を得るまで、実装を開始しないでください。

---

## 実装計画

### フェーズ1: 基盤構築
*推定期間: X分（AIエージェント作業時間）*

#### タスク1.1: [タスクタイトル]
**説明**:
*AIエージェントが実装すべき内容を具体的に記載*
- 対象ファイルパス
- 実装する機能の詳細
- 使用する技術・ライブラリ

**技術的文脈**:
*AIエージェントの判断に必要な情報*
- 技術スタック
- 参照すべき既存コード
- コーディング規約

**情報の明確性**:

| 分類 | 内容 |
|------|------|
| 明示された情報 | [ユーザーから明確に指定された仕様] |
| 不明/要確認の情報 | [推測が必要な項目、「おそらく〜」を含む内容] |

**このタスクの実装前確認事項**:
- [ ] [不明点1の確認]
- [ ] [不明点2の確認]

> 上記のチェックがすべて完了するまで、このタスクの実装を開始しないでください。

**受入基準**:
- [ ] *検証可能な基準（ファイル存在、機能動作、テスト通過など）*
- [ ] *検証可能な基準*

**依存関係**: なし
**推定工数**: X分（AIエージェント作業時間）
**ステータス**: `TODO`

#### タスク1.2: [タスクタイトル]
**説明**:
*AIエージェントが実装すべき内容を具体的に記載*
- 対象ファイルパス
- 実装する機能の詳細
- 使用する技術・ライブラリ

**技術的文脈**:
*AIエージェントの判断に必要な情報*

**情報の明確性**:

| 分類 | 内容 |
|------|------|
| 明示された情報 | [ユーザーから明確に指定された仕様] |
| 不明/要確認の情報 | [推測が必要な項目、「おそらく〜」を含む内容] |

**このタスクの実装前確認事項**:
- [ ] [不明点の確認]

**受入基準**:
- [ ] *検証可能な基準*
- [ ] *検証可能な基準*

**依存関係**: タスク1.1
**推定工数**: X分（AIエージェント作業時間）
**ステータス**: `TODO`

### フェーズ2: コア機能
*推定期間: X分（AIエージェント作業時間）*

#### タスク2.1: [タスクタイトル]
**説明**:
*AIエージェントが実装すべき内容を具体的に記載*

**技術的文脈**:
*AIエージェントの判断に必要な情報*

**情報の明確性**:

| 分類 | 内容 |
|------|------|
| 明示された情報 | [ユーザーから明確に指定された仕様] |
| 不明/要確認の情報 | [推測が必要な項目、「おそらく〜」を含む内容] |

**このタスクの実装前確認事項**:
- [ ] [不明点の確認]

**受入基準**:
- [ ] *検証可能な基準*
- [ ] *検証可能な基準*

**依存関係**: フェーズ1
**推定工数**: X分（AIエージェント作業時間）
**ステータス**: `TODO`

#### タスク2.2: [タスクタイトル]
**説明**:
*AIエージェントが実装すべき内容を具体的に記載*

**技術的文脈**:
*AIエージェントの判断に必要な情報*

**情報の明確性**:

| 分類 | 内容 |
|------|------|
| 明示された情報 | [ユーザーから明確に指定された仕様] |
| 不明/要確認の情報 | [推測が必要な項目、「おそらく〜」を含む内容] |

**このタスクの実装前確認事項**:
- [ ] [不明点の確認]

**受入基準**:
- [ ] *検証可能な基準*
- [ ] *検証可能な基準*

**依存関係**: タスク2.1
**推定工数**: X分（AIエージェント作業時間）
**ステータス**: `TODO`

### フェーズ3: 統合とテスト
*推定期間: X分（AIエージェント作業時間）*

#### タスク3.1: [タスクタイトル]
**説明**:
*AIエージェントが実装すべき内容を具体的に記載*

**技術的文脈**:
*AIエージェントの判断に必要な情報*

**情報の明確性**:

| 分類 | 内容 |
|------|------|
| 明示された情報 | [ユーザーから明確に指定された仕様] |
| 不明/要確認の情報 | [推測が必要な項目、「おそらく〜」を含む内容] |

**このタスクの実装前確認事項**:
- [ ] [不明点の確認]

**受入基準**:
- [ ] *検証可能な基準*
- [ ] *検証可能な基準*

**依存関係**: フェーズ2
**推定工数**: X分（AIエージェント作業時間）
**ステータス**: `TODO`

## タスクステータスの凡例
- `TODO` - 未着手
- `IN_PROGRESS` - 作業中
- `BLOCKED` - 依存関係や問題によりブロック中
- `REVIEW` - レビュー待ち
- `DONE` - 完了

## リスクと軽減策

### リスク1: [リスクの説明]
**影響度**: 高/中/低  
**発生確率**: 高/中/低  
**軽減策**: *このリスクへの対処方法*

### リスク2: [リスクの説明]
**影響度**: 高/中/低  
**発生確率**: 高/中/低  
**軽減策**: *このリスクへの対処方法*

## 備考
*実装に関する追加の注意事項や考慮事項*

---

## タスク管理のガイド

### AIエージェント向けタスクの粒度
適切なタスクサイズの目安（AIエージェント作業時間）：
- **シンプルな実装**: 10-20分（単一ファイル、基本的な関数、設定ファイル）
- **標準的な実装**: 20-40分（複数ファイル、APIエンドポイント、データモデル、基本テスト）
- **複雑な実装**: 40-90分（複数コンポーネント統合、複雑なロジック、包括的テスト）
- **非常に複雑**: 90分以上 → さらに分解を検討

### AIエージェント向け良いタスク定義の特徴
1. **具体的**: ファイルパス、関数名、クラス名を明記
2. **測定可能**: 検証可能な受入基準（テスト通過、ファイル存在など）
3. **達成可能**: AIエージェントが実行可能な粒度
4. **文脈提供**: 技術スタック、参照コード、コーディング規約を明記
5. **期限付き**: AIエージェント作業時間の見積もりを明記
6. **情報の明確性**: 明示された情報と不明/要確認の情報を明確に分離

### 情報の明確性チェックの重要性

**AIエージェントが自律的に作業するためには、以下の原則を守る必要があります：**

1. **情報の分類**
   - ユーザーから「明示されている情報」と「不明な情報」を明確に分ける
   - 「おそらく〜だろう」という推測は「不明」として扱う
   - 推測に基づく実装は行わない

2. **不明な情報がある場合**
   - 不明な情報が1つでもあれば、実装前に必ず確認する
   - 確認なしに推測で進めない
   - 確認事項はチェックリスト形式で管理する

3. **確認の取り方**
   ```
   このタスクの実装を開始する前に、以下の点を確認させてください：

   1. [不明点1]: [選択肢A] / [選択肢B] / その他
   2. [不明点2]: [具体的な質問]

   上記について教えていただけますか？
   ```

### AIエージェント向け受入基準の書き方
- チェックボックス形式で記載
- AIエージェントが検証可能な基準（ファイル存在、テスト通過、エラーゼロなど）
- 具体的なファイルパスやコマンドを含める
- 技術的に測定可能な条件を明記

### 依存関係の管理
- **前提タスク**: このタスクの開始前に完了が必要
- **並行可能**: 同時に進められるタスク
- **後続タスク**: このタスクの完了後に開始可能

### ステータス遷移のルール
```
TODO → IN_PROGRESS → REVIEW → DONE
         ↓
      BLOCKED
         ↓
    IN_PROGRESS
```

### フェーズ分けの考え方
1. **基盤構築**: 環境設定、基本構造
2. **コア機能**: 主要な機能の実装
3. **拡張機能**: 追加機能、改善
4. **統合・テスト**: 結合、品質保証
5. **リリース準備**: デプロイ、文書化

### リスク評価のマトリクス
|  | 低影響 | 中影響 | 高影響 |
|---|--------|--------|--------|
| **高確率** | 注意 | 対策必要 | 最優先対応 |
| **中確率** | 監視 | 注意 | 対策必要 |
| **低確率** | 受容 | 監視 | 注意 |

### AIエージェント作業時間の見積もり
- 基本的な実装: 楽観的見積もり × 1.2-1.5
- 不確実性が高い場合: × 1.5-2.0
- 新しいライブラリや複雑な統合: × 2.0-2.5
- AIエージェントの能力範囲内のタスクに限定すること

### 進捗管理のヒント
- 毎日ステータスを更新
- ブロッカーは即座に報告
- 見積もりと実績の差を記録
- 振り返りで改善点を特定